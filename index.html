<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cycle Tracker</title>

    <!-- Browser favicon -->
    <link rel="icon" type="image/png" href="/logo.png" />

    <!-- Farcaster / Base embed iÃ§in mini app meta -->
    <meta
      name="fc:miniapp"
      content='{
        "version": "1",
        "name": "Cycle Tracker",
        "iconUrl": "https://cycle-tracker-based.vercel.app/logo.png",
        "homeUrl": "https://cycle-tracker-based.vercel.app",
        "imageUrl": "https://cycle-tracker-based.vercel.app/logo.png",
        "button": {
          "title": "Open Cycle Tracker",
          "action": {
            "type": "launch_miniapp",
            "name": "Cycle Tracker",
            "url": "https://cycle-tracker-based.vercel.app"
          }
        }
      }'
    />

    <!-- Base Mini App preview fix: IS_MINI_APP -> MINI_APP_READY -->
    <script>
      window.addEventListener("message", (event) => {
        if (event.data && event.data.type === "IS_MINI_APP") {
          window.isMiniApp = true;
          window.parent?.postMessage({ type: "MINI_APP_READY" }, "*");
          console.log("[miniapp] MINI_APP_READY sent");
        }
      });
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
